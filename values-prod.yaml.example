# Example production values
# Copy this to values-prod.yaml and customize for your environment

namespace: music-man-prod

frontend:
  replicaCount: 3
  image:
    repository: <your-dockerhub-username>/music-man
    tag: "v1.0.0"  # Pin to specific version
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  env:
    spotifyClientId: "011c5f27eef64dd0b6f65ca673215a58"
    apiUrl: "/api"  # Use relative path when ingress is enabled

backend:
  replicaCount: 3
  image:
    repository: <your-dockerhub-username>/music-man-api
    tag: "v1.0.0"  # Pin to specific version
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

database:
  persistence:
    enabled: true
    storageClass: "fast-ssd"
    size: 100Gi
  resources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "2000m"

ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
  hosts:
    - host: music-man.yourdomain.com
      paths:
        - path: /
          pathType: Prefix
          backend: frontend
        - path: /api
          pathType: Prefix
          backend: backend
  tls:
    - secretName: music-man-tls
      hosts:
        - music-man.yourdomain.com

secrets:
  # DO NOT commit actual passwords!
  # Use external secret management in production
  databasePassword: ""  # Set via --set flag or external secrets
  jwtSecret: ""  # Set via --set flag or external secrets
